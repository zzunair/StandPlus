{% style %}
  .er-alsf-features__wrapper.section-{{ section.id }} {
    {% if section.settings.bg_image != blank %}
      background: url('{{ section.settings.bg_image | image_url: width: 1920 }}');
    {% else %}
      background: #FFC742;
    {% endif %}
    background-repeat: no-repeat;
    background-size: cover;
    background-position: top;
  }
{% endstyle %}

{% if section.blocks.size > 0 %}
  <div class="er-alsf-features__wrapper section-{{ section.id }}">
    <div class="er-alsf-features__grid">
      {% for block in section.blocks %}
        <div class="feature__wrapper">
          <img
            src="{{ block.settings.image | image_url: width: '293' }}"
            loading="lazy"
            width="293"
            height="293"
            alt="{{ block.settings.image }}"
          >
          <div class="name">{{ block.settings.name }}</div>
          <div class="description">{{ block.settings.description }}</div>
        </div>
      {% endfor %}
    </div>  
  </div>
{% endif %}

{% schema %}
{
  "name": "ER ALSF features",
  "settings": [
    {
      "type": "image_picker",
      "id": "bg_image",
      "label": "Section background image"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature",
      "limit": 4,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Feature image"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Feature name"
        },
        {
          "type": "text",
          "id": "description",
          "label": "Feature description"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "ER ALSF features"
    }
  ]
}
{% endschema %}